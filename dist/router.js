var Resolve=require("./services/resolve"),State=require("./fluffster"),StateRouter={store:null,routes:[],defaultErrorHandler:!0,route:function(e){StateRouter.routes.push(e)},render:function(e){StateRouter.store=new State(e)},updateState:function(e){StateRouter.store&&StateRouter.store.updateState(e)},router:function(e){Resolve(StateRouter.routes,e).then(StateRouter.render).catch(function(t){console.warn(t),StateRouter.defaultErrorHandler||Resolve(StateRouter.routes,{location:e,error:t}).then(StateRouter.render)})}};module.exports=StateRouter;